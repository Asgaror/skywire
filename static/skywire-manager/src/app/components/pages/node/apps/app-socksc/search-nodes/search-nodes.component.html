<div class="d-flex align-items-center justify-content-center flex-column"
      style="min-height: 400px; min-width: 400px;">
  <mat-spinner *ngIf="loading" [diameter]="50"></mat-spinner>
  <div class="d-flex flex-column">
    <table mat-table class="table-abs-white sm" [dataSource]="dataSource" *ngIf="!loading">
      <ng-container matColumnDef="nodekey">
        <th mat-header-cell *matHeaderCellDef>Node key</th>
        <td mat-cell *matCellDef="let item;">
          {{ item.node_key }}
        </td>
      </ng-container>
      <ng-container matColumnDef="appkey">
        <th mat-header-cell *matHeaderCellDef>App key</th>
        <td mat-cell *matCellDef="let item;">
          {{ item.app_key }}
        </td>
      </ng-container>
      <ng-container matColumnDef="versions">
        <th mat-header-cell *matHeaderCellDef>Versions</th>
        <td mat-cell *matCellDef="let item;">
          <span>Node: {{ item.node_version[0] }}</span>
          <br>
          <span>App: {{ item.version }}</span>
        </td>
      </ng-container>
      <ng-container matColumnDef="location">
        <th mat-header-cell *matHeaderCellDef>Location</th>
        <td mat-cell *matCellDef="let item;">
          {{ item.location }}
        </td>
      </ng-container>
      <ng-container matColumnDef="connect">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let item;">
          <button color="accent" mat-flat-button (click)="connect({nodeKey: item.node_key, appKey: item.app_key})">Connect</button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <button (click)="prevPage()">previous</button>
    <button (click)="nextPage()">next</button>
    total results: {{ count }}
  </div>
</div>
